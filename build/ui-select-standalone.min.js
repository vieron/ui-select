/*! ui-select - v0.0.1 - 2013-09-22 - * http://github.com/vieron/ui-select.git - Copyright (c) 2013 vieron; Licensed MIT */ 
!function(){function a(b,c,d){var e=a.resolve(b);if(null==e){d=d||b,c=c||"root";var f=new Error('Failed to require "'+d+'" from "'+c+'"');throw f.path=d,f.parent=c,f.require=!0,f}var g=a.modules[e];if(!g._resolving&&!g.exports){var h={};h.exports={},h.client=h.component=!0,g._resolving=!0,g.call(this,h.exports,a.relative(e),h),delete g._resolving,g.exports=h.exports}return g.exports}a.modules={},a.aliases={},a.resolve=function(b){"/"===b.charAt(0)&&(b=b.slice(1));for(var c=[b,b+".js",b+".json",b+"/index.js",b+"/index.json"],d=0;d<c.length;d++){var b=c[d];if(a.modules.hasOwnProperty(b))return b;if(a.aliases.hasOwnProperty(b))return a.aliases[b]}},a.normalize=function(a,b){var c=[];if("."!=b.charAt(0))return b;a=a.split("/"),b=b.split("/");for(var d=0;d<b.length;++d)".."==b[d]?a.pop():"."!=b[d]&&""!=b[d]&&c.push(b[d]);return a.concat(c).join("/")},a.register=function(b,c){a.modules[b]=c},a.alias=function(b,c){if(!a.modules.hasOwnProperty(b))throw new Error('Failed to alias "'+b+'", it does not exist');a.aliases[c]=b},a.relative=function(b){function c(a,b){for(var c=a.length;c--;)if(a[c]===b)return c;return-1}function d(c){var e=d.resolve(c);return a(e,b,c)}var e=a.normalize(b,"..");return d.resolve=function(d){var f=d.charAt(0);if("/"==f)return d.slice(1);if("."==f)return a.normalize(e,d);var g=b.split("/"),h=c(g,"deps")+1;return h||(h=0),d=g.slice(0,h+1).join("/")+"/deps/"+d},d.exists=function(b){return a.modules.hasOwnProperty(d.resolve(b))},d},a.register("component-emitter/index.js",function(a,b,c){function d(a){return a?e(a):void 0}function e(a){for(var b in d.prototype)a[b]=d.prototype[b];return a}var f=b("indexof");c.exports=d,d.prototype.on=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(b),this},d.prototype.once=function(a,b){function c(){d.off(a,c),b.apply(this,arguments)}var d=this;return this._callbacks=this._callbacks||{},b._off=c,this.on(a,c),this},d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;var d=f(c,b._off||b);return~d&&c.splice(d,1),this},d.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c){c=c.slice(0);for(var d=0,e=c.length;e>d;++d)c[d].apply(this,b)}return this},d.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},d.prototype.hasListeners=function(a){return!!this.listeners(a).length}}),a.register("component-domify/index.js",function(a,b,c){function d(a){if("string"!=typeof a)throw new TypeError("String expected");var b=/<([\w:]+)/.exec(a);if(!b)throw new Error("No elements were generated.");var c=b[1];if("body"==c){var d=document.createElement("html");return d.innerHTML=a,d.removeChild(d.lastChild)}var f=e[c]||e._default,g=f[0],h=f[1],i=f[2],d=document.createElement("div");for(d.innerHTML=h+a+i;g--;)d=d.lastChild;var j=d.children;if(1==j.length)return d.removeChild(j[0]);for(var k=document.createDocumentFragment();j.length;)k.appendChild(d.removeChild(j[0]));return k}c.exports=d;var e={option:[1,'<select multiple="multiple">',"</select>"],optgroup:[1,'<select multiple="multiple">',"</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tbody:[1,"<table>","</table>"],tfoot:[1,"<table>","</table>"],colgroup:[1,"<table>","</table>"],caption:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],th:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:[0,"",""]}}),a.register("component-classes/index.js",function(a,b,c){function d(a){if(!a)throw new Error("A DOM element reference is required");this.el=a,this.list=a.classList}var e=b("indexof"),f=/\s+/,g=Object.prototype.toString;c.exports=function(a){return new d(a)},d.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array(),c=e(b,a);return~c||b.push(a),this.el.className=b.join(" "),this},d.prototype.remove=function(a){if("[object RegExp]"==g.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array(),c=e(b,a);return~c&&b.splice(c,1),this.el.className=b.join(" "),this},d.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this},d.prototype.toggle=function(a){return this.list?(this.list.toggle(a),this):(this.has(a)?this.remove(a):this.add(a),this)},d.prototype.array=function(){var a=this.el.className.replace(/^\s+|\s+$/g,""),b=a.split(f);return""===b[0]&&b.shift(),b},d.prototype.has=d.prototype.contains=function(a){return this.list?this.list.contains(a):!!~e(this.array(),a)}}),a.register("component-query/index.js",function(a,b,c){function d(a,b){return b.querySelector(a)}a=c.exports=function(a,b){return b=b||document,d(a,b)},a.all=function(a,b){return b=b||document,b.querySelectorAll(a)},a.engine=function(b){if(!b.one)throw new Error(".one callback required");if(!b.all)throw new Error(".all callback required");d=b.one,a.all=b.all}}),a.register("component-event/index.js",function(a){a.bind=function(a,b,c,d){return a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent("on"+b,c),c},a.unbind=function(a,b,c,d){return a.removeEventListener?a.removeEventListener(b,c,d||!1):a.detachEvent("on"+b,c),c}}),a.register("component-matches-selector/index.js",function(a,b,c){function d(a,b){if(g)return g.call(a,b);for(var c=e.all(b,a.parentNode),d=0;d<c.length;++d)if(c[d]==a)return!0;return!1}var e=b("query"),f=Element.prototype,g=f.matchesSelector||f.webkitMatchesSelector||f.mozMatchesSelector||f.msMatchesSelector||f.oMatchesSelector;c.exports=d}),a.register("component-delegate/index.js",function(a,b){var c=b("matches-selector"),d=b("event");a.bind=function(a,b,e,f,g){return d.bind(a,e,function(a){c(a.target,b)&&f(a)},g)},a.unbind=function(a,b,c,e){d.unbind(a,b,c,e)}}),a.register("scttnlsn-events/index.js",function(a,b,c){function d(a,b){if(!(this instanceof d))return new d(a,b);if(!a)throw new Error("element required");if(!b)throw new Error("object required");this.el=a,this.obj=b,this._events={}}function e(a){var b=a.split(/ +/);return{name:b.shift(),selector:b.join(" ")}}var f=b("event"),g=b("delegate");c.exports=d,d.prototype.sub=function(a,b,c){this._events[a]=this._events[a]||{},this._events[a][b]=c},d.prototype.bind=function(a,b){function c(){var a=[].slice.call(arguments).concat(k);b.apply(i,a)}var d=e(a),h=this.el,i=this.obj,j=d.name,b=b||"on"+j,k=[].slice.call(arguments,2);return"function"!=typeof b&&(b=i[b]),d.selector?c=g.bind(h,d.selector,j,c):f.bind(h,j,c),this.sub(j,b,c),c},d.prototype.unbind=function(a,b){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(a);var c=this._events[a];if(c){var d=c[b];d&&f.unbind(this.el,a,d)}},d.prototype.unbindAll=function(){for(var a in this._events)this.unbindAllOf(a)},d.prototype.unbindAllOf=function(a){var b=this._events[a];if(b)for(var c in b)this.unbind(a,c)}}),a.register("component-indexof/index.js",function(a,b,c){c.exports=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}}),a.register("yields-scrolltop/index.js",function(a,b,c){c.exports=function(){return window.pageYOffset?window.pageYOffset:document.documentElement.clientHeight?document.documentElement.scrollTop:document.body.scrollTop}}),a.register("component-keyname/index.js",function(a,b,c){var d={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"};c.exports=function(a){return d[a]}}),a.register("component-bind/index.js",function(a,b,c){var d=[].slice;c.exports=function(a,b){if("string"==typeof b&&(b=a[b]),"function"!=typeof b)throw new Error("bind() requires a function");var c=[].slice.call(arguments,2);return function(){return b.apply(a,c.concat(d.call(arguments)))}}}),a.register("yields-data/index.js",function(a,b,c){function d(a){var b,c=a.__uniq||++d.uniq;return b=d.cache[c]=d.cache[c]||{},a.__uniq=c,d.api.el=a,d.api.cache=b,d.api}function e(a,b){if("string"!=typeof a)for(var c in a)this.cache[c]=a[c];else this.cache[a]=b;return this}function f(a){var b,c=this.cache;return a?(b=c[a])?b:c[a]=i(this.el,a):c}function g(a){return!!this.get(a)}function h(a){return a?delete this.cache[a]:d.cache[this.el.__uniq]=this.cache={},this}function i(a,b){return a.getAttribute("data-"+b)}c.exports=d,d.uniq=0,d.cache={},d.api={has:g,del:h,set:e,get:f}}),a.register("ui-select/index.js",function(a,b,c){function d(a,b){this.fromSelect=a&&"SELECT"==a.tagName,this.fromSelect&&(this.selectEl=a),b=b||a,this.options={},this.selectable=[],this.closed=!0,this.val=void 0,this._group=void 0,this.placeholder=b.placeholder||"",this.searchable=b.search,this.tabindex=b.tabindex||d.tabindex++,this.init()}function e(a,b){for(var c=a,d=a.offsetTop;c=c.offsetParent;)if(d+=c.offsetTop,c==b)return d;return d}function f(a){return a.preventDefault?a.preventDefault():(a.returnValue=!1,void 0)}function g(a){return a.stopPropagation?a.stopPropagation():(a.cancelBubble=!0,void 0)}function h(a){setTimeout(a,0)}var i=b("emitter"),j=b("domify"),k=b("classes"),l=b("query"),m=b("events"),n=b("indexof"),o=b("keyname"),p=b("scrolltop"),q=(b("bind"),b("data"));d.tabindex=1;var r=d.prototype;i(r),r.init=function(){this.fromSelect&&(k(this.selectEl).add("ui-select-hidden"),this.selectEl.setAttribute("tabindex",-1)),this.windowEvents=m(window,this),this.render(),this.events=m(this.el,this),this.fromSelect&&(this.buildFromSelect(),this.insertBefore()),this.el.setAttribute("tabindex",this.tabindex),this.bind()},r.addOptionsFromSelect=function(a){var b,c,d,e;for(b=a.querySelectorAll("option"),d=0,e=b.length;e>d;d++)c=b[d],this.add(c.value,c.innerHTML)},r.buildFromSelect=function(){var a,b,c=this.selectEl.querySelectorAll("optgroup");if(c.length)for(a=0,b=c.length;b>a;a++)this.group(c[a].label),this.addOptionsFromSelect(c[a]);else this.addOptionsFromSelect(this.selectEl);return this},r.render=function(){var a=b("./templates/select.html");return this.el=j(a),this.list=l(".ui-select-options",this.el),this.input=l(".ui-select-search",this.el),this.classes=k(this.el),this.label=l(".ui-select-label",this.el),this.label.innerHTML=this.placeholder,this.searchable&&this.addClass("ui-select-searchable"),this},r.bind=function(){var a=this,b=function(b){var c=b.target;a.setFocus(q(c).get("value"))},c=function(b){g(b);var c=b.target;a.select(q(c).get("value"))};return this.events.bind("keypress","onkeypress"),this.events.bind("keydown","onkeydown"),this.events.bind("mousedown",g),this.events.bind("mouseup",g),this.events.bind("keyup","onkeyup"),this.events.bind("change","onkeyup"),this.events.bind("mousedown","toggle"),this.events.bind("mouseup .ui-select-selectable",c),this.events.bind("mousedown .ui-select-selectable",c),this.events.bind("mouseover .ui-select-selectable",b),this},r.unbind=function(){return this.events.unbind("keypress"),this.events.unbind("keydown"),this.events.unbind("keyup"),this.events.unbind("change"),this.events.unbind("mousedown"),this.events.unbind("mouseup"),this.events.unbind("mouseover"),this.unbindOutside()},r.bindOutside=function(){return this.windowEvents.bind("mousedown","close"),this.windowEvents.bind("mouseup","close"),this.windowEvents.bind("scroll","reposition"),this.windowEvents.bind("resize","reposition"),this},r.unbindOutside=function(){return this.windowEvents.unbind("mousedown","close"),this.windowEvents.unbind("mouseup","close"),this.windowEvents.unbind("scroll","reposition"),this.windowEvents.unbind("resize","reposition"),this},r.add=function(a,c,d){var e=b("./templates/option.html"),f=j(e),g=this._group||this.list;return f.innerHTML=c,this.options[a]=f,this.selectable.push(""+a),q(f).set({value:a}),g.appendChild(f),(!this.placeholder&&!this.val||d)&&this.select(a),this.emit("option",a,c),this},r.remove=function(a){var b=this.options[a];return this.el.removeChild(b),this.emit("remove",a)},r.group=function(a){if("undefined"==typeof a)return this.inGroup;var c=b("./templates/group.html"),d=j(c),e=l(".ui-select-group-label",d);return e.innerHTML=a,this._group=l(".ui-select-options",d),this.list.appendChild(d),this.emit("group",a)};var s=/\w/;r.onkeypress=function(a){if(this.closed){var b=a.keyCode,c=String.fromCharCode(b);s.test(c)&&(f(a),this.input.value=c,this.open(),this.filter(c))}},r.onkeydown=function(a){var b=a.keyCode,c=this.inFocus||this.val;switch(o(b)){case"tab":case"esc":this.close();break;case"enter":f(a),this.select(c);break;case"left":case"right":this.open();break;case"up":f(a),this.navigate(-1);break;case"down":f(a),this.navigate(1)}},r.onkeyup=function(){this.filter(this.input.value)},r.navigate=function(a){if(this.closed)return this.open();var b=this.selectable,c=n(b,this.inFocus)+a;if(b.length>c&&c>=0){var d=b[c];this.setFocus(d)}return this},r.setFocus=function(a){var b=l(".ui-select-focus",this.list),c=this.options[a];return c?(b&&k(b).remove("ui-select-focus"),k(c).add("ui-select-focus"),this.inFocus=""+a,this.scrollTo(a),this.emit("focus",a)):this},r.select=function(a){var b=this.options[a];if(!b)return this;var c=l(".ui-select-selected",this.list);c&&k(c).remove("ui-select-selected"),k(b).add("ui-select-selected");var d=b.parentNode.parentNode;if(k(d).has("ui-select-group")){var e=d.querySelector(".ui-select-group-label");this.inGroup=e.innerHTML}return this.label.innerHTML=b.innerHTML,this.val=""+a,this.selectEl&&(this.selectEl.value=a),this.emit("select",a),this.close()},r.scrollTo=function(a){var b=this.options[a];if(!b)return this;var c=l(".ui-select-list",this.el),d=c.clientHeight,e=c.scrollTop,f=e+d,g=b.offsetHeight,h=b.offsetTop;return h+g>f?c.scrollTop=h+g-d:e>h&&(c.scrollTop=h),this},r.reposition=function(){if(this.closed)return this;var a=p(),b=a+window.innerHeight,c=this.label.offsetHeight,d=e(this.el),f=l(".ui-select-inner",this.el),g=f.offsetHeight;return b>=d+c+g?(this.addClass("ui-select-south"),this.removeClass("ui-select-north"),this.emit("position","south")):(this.addClass("ui-select-north"),this.removeClass("ui-select-south"),this.emit("position","north"))},r.filter=function(a){var b=new RegExp(a||"","i"),c=this.selectable=[];for(var d in this.options){var e=this.options[d];b.test(e.innerHTML)?(c.push(d),k(e).add("ui-select-selectable")):k(e).remove("ui-select-selectable")}return this.hideEmpty(),this.refocus(),this.emit("filter",a)},r.hideEmpty=function(){for(var a=l.all(".ui-select-group",this.list),b=0;b<a.length;b++){var c=a[b],d=l(".ui-select-selectable",c);d?k(c).remove("ui-select-empty"):k(c).add("ui-select-empty")}return this},r.refocus=function(){var a=this.selectable;return~n(a,this.inFocus)?this.scrollTo(this.inFocus):a.length?this.setFocus(a[0]):this.setFocus(null)},r.appendTo=function(a){return a.appendChild(this.el),this},r.insertBefore=function(a){return a||(a=this.selectEl),a.parentNode.insertBefore(this.el,a),this},r.addClass=function(a){return this.classes.add(a),this},r.removeClass=function(a){return this.classes.remove(a),this},r.open=function(){return this.closed?this.toggle():this},r.close=function(){return this.closed?this:this.toggle()},r.toggle=function(){if(this.closed=!this.closed,this.classes.toggle("ui-select-open"),this.classes.toggle("ui-select-closed"),this.closed)return this.el.focus(),this.unbindOutside(),this.emit("close");this.bindOutside(),this.setFocus(this.val),this.reposition();var a=this.input;return h(function(){a.focus()}),this.emit("open")},r.value=function(a){return"undefined"==typeof a?this.val:(this.select(a),this)},r.destroy=r.unbind,c.exports=d}),a.register("ui-select/templates/select.html",function(a,b,c){c.exports='<div class="ui-select ui-select-closed" tabindex="0">\n  <div class="ui-select-label"></div>\n  <div class="ui-select-inner">\n    <input type="text" class="ui-select-search">\n    <div class="ui-select-list">\n      <ul class="ui-select-options"></ul>\n    </div>\n  </div>\n</div>'}),a.register("ui-select/templates/group.html",function(a,b,c){c.exports='<li class="ui-select-group">\n  <div class="ui-select-group-label"></div>\n  <ul class="ui-select-options"></ul>\n</li>'}),a.register("ui-select/templates/option.html",function(a,b,c){c.exports='<li class="ui-select-option ui-select-selectable"></li>'}),a.alias("component-emitter/index.js","ui-select/deps/emitter/index.js"),a.alias("component-emitter/index.js","emitter/index.js"),a.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),a.alias("component-domify/index.js","ui-select/deps/domify/index.js"),a.alias("component-domify/index.js","domify/index.js"),a.alias("component-classes/index.js","ui-select/deps/classes/index.js"),a.alias("component-classes/index.js","classes/index.js"),a.alias("component-indexof/index.js","component-classes/deps/indexof/index.js"),a.alias("component-query/index.js","ui-select/deps/query/index.js"),a.alias("component-query/index.js","query/index.js"),a.alias("scttnlsn-events/index.js","ui-select/deps/events/index.js"),a.alias("scttnlsn-events/index.js","events/index.js"),a.alias("component-event/index.js","scttnlsn-events/deps/event/index.js"),a.alias("component-delegate/index.js","scttnlsn-events/deps/delegate/index.js"),a.alias("component-matches-selector/index.js","component-delegate/deps/matches-selector/index.js"),a.alias("component-query/index.js","component-matches-selector/deps/query/index.js"),a.alias("component-event/index.js","component-delegate/deps/event/index.js"),a.alias("component-indexof/index.js","ui-select/deps/indexof/index.js"),a.alias("component-indexof/index.js","indexof/index.js"),a.alias("yields-scrolltop/index.js","ui-select/deps/scrolltop/index.js"),a.alias("yields-scrolltop/index.js","scrolltop/index.js"),a.alias("component-keyname/index.js","ui-select/deps/keyname/index.js"),a.alias("component-keyname/index.js","keyname/index.js"),a.alias("component-bind/index.js","ui-select/deps/bind/index.js"),a.alias("component-bind/index.js","bind/index.js"),a.alias("yields-data/index.js","ui-select/deps/data/index.js"),a.alias("yields-data/index.js","data/index.js"),a.alias("ui-select/index.js","ui-select/index.js"),"object"==typeof exports?module.exports=a("ui-select"):"function"==typeof define&&define.amd?define(function(){return a("ui-select")}):this["ui-select"]=a("ui-select")}(),uick.register(["emitter","domify","classes","query","events","indexof","scrolltop","keyname","bind","data"]);